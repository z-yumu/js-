<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
</body>

<script>

/**  
 * 1.产生:在嵌套内部函数定义执行完时就产生了（不是在调用）
 * 2.死亡：在嵌套的内部函数成为垃圾对象时
*/




// 1
function fn1(){
    // 此时闭包已产生(函数提升，内部函数对象已经创建了)
    var a = 2
    function fn2(){
        a++
        console.log(a)
    }
    return fn2
}

var f = fn1() // Call Stack fn1 (anonymous)|匿名的 
// fn2已经是垃圾对象，调用之后
// 但是fn2地址指向的对象赋值给了f，所以没有丢失

f() // 3
f() // 4
// 闭包死亡（包含闭包的函数对象成为垃圾对象）
f = null

// 2

function showDelay(msg,time){
    setTimeout(function(){
        console.log(msg) // 闭包，引用了msg
    },
    time)
}

showDelay('9527',10000)




</script>
</html>